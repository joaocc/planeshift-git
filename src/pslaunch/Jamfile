SubDir TOP src pslaunch ;

Application psupdater :
	[ Wildcard *.cpp *.h ] : console
;

ExternalLibs psupdater : CRYSTAL CURL ;
CompileGroups psupdater : client ;
LinkWith psupdater : xdelta3 ;

if $(HAVE_STATIC_PLUGINS) = "yes"
{

SubVariant static ;
Application psupdater_static : [ Wildcard *.cpp *.h ] : console ;
CFlags psupdater_static : [ FDefines CS_STATIC_LINKED ] ;
LFlags psupdater_static : -lcrystalspace_staticplugins-1.2 ;
MsvcDefine psupdater_static : CS_STATIC_LINKED ;
LinkWith psupdater_static : xdelta3 ;

LinkStaticPlugins psupdater_static :
  vfs
: 
: CRYSTAL
;

ExternalLibs psupdater_static : CRYSTAL CURL ;
CompileGroups psupdater_static : client_static ;

SubVariant ;
}
