<!--
react attributes:
type: Need list of possible types
active_only: true|false
inactive_only: true|false
when_dead: true|false
when_invisible: true|false
when_invincible: true|false
only_interrupt: csv list of behaviors that this event is allowed to interrupt...all if omitted
event:
- in_bounds
- out_of_bounds
- collision
- player|owner  [use range attribute]
- player|owner adjacent|nearby|sensed|anyrange  [VeryShortRange|ShortRange|LongRange|AnyRange]
time: csv - gameHour, gameMinute, gameYear, gameMonth, gameDay
behavior: name of defined behavior - can be csv for firing multiple events at once
delta: 0=cancel | omitted=make priority | -1=deprecated
weight: # is mulltiplied by target HP to adjust hatelist rank
range: # meters for distance
faction_diff: required for the event to fire at all...use -200
oper: required with range and faction_diff... use ">"
random: csv numbers - dunno what they do yet

Operations:
Rotate:
Move:
MoveTo:
MovePath:
Chase: nearest|owner|target
Wander: vel random(true|false) underground underwater private public city indoor
Locate: target|friend|enemy|waypoint|etc
Circle: go around in circles - needs radius
Melee:
Dig:
Navigate:
Pickup:
Drop:
Transfer:
Equip"
Dequip:
Talk:
Sequence: Music / Sound
Visible:
Invisible:
Reproduce: This should be interesting
Resurrect:
Memorize:
Loop:
Wait:
Debug:
Watch: range invisible invincible type(nearest|owner|target)

-->
<npctypes>
	<npctype name="Fighter" vel="2">
		<behavior name="turn" completion_decay="-1" growth="0" initial="0">
			<debug level="0" />
			<rotate type="random" min="90" max="270" anim="walk" ang_vel="30" />
		</behavior>
		<behavior name="fight" decay="0" growth="0" initial="0">
			<debug level="3" />
			<locate obj="target" range="50"/>
			<rotate type="locatedest" anim="walk" ang_vel="120" />
			<melee seek_range="50" melee_range="3" />
		</behavior>
		<behavior name="chase" completion_decay="-1" growth="0" initial="0">
			<debug level="3" />
			<chase type="target" anim="run" vel="5" />
		</behavior>
		
		<react event="collision"           behavior="turn" />
		<react event="out of bounds"       behavior="turn" />
		<react event="attack"              behavior="fight" />
		<react event="damage"              behavior="fight" weight="1" />
		<react event="death"               behavior="fight" delta="0" />
		<react event="target out of range" behavior="chase" />
	</npctype>

	<npctype name="Running Fighter" parent="Fighter" vel="4">
		<!-- See Fighter Above -->
	</npctype>

	<npctype name="On Sight Fighter" parent="Fighter">
		<!-- See Fighter Above -->
		<react event="player nearby" behavior="fight" weight="1" when_invincibile="true" faction_diff="-200" oper=">" />
		<!-- Need reaction for adjacent as well when NPC respawns -->
		<react event="player adjacent" behavior="fight" weight="1" when_invincibile="true" faction_diff="-200" oper=">" />
	</npctype>

	<!-- One Sewer Rat Uses This -->
	<npctype name="WalkAbout" parent="Fighter" vel="3">
		<behavior name="walk" decay="0" growth="0" initial="1">
			<debug level="30" />
			<wander random="true" anim="walk" />
			<wait duration="30" anim="stand" />
		</behavior>
	</npctype>

	<npctype name="On Sight Fighter WalkAbout" parent="On Sight Fighter" vel="3">
		<behavior name="walk" decay="0" growth="0" initial="1">
			<debug level="3" />
			<wander random="true" anim="walk" />
		</behavior>
	</npctype>
</npctypes>
